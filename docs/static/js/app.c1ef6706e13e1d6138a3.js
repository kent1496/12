webpackJsonp([1],{"+Adh":function(e,t,n){"use strict";var a=n("woOf"),o=n.n(a),i=n("bOdI"),s=n.n(i),l=n("EMb8"),r=n("gMJu"),c=n("WuDf"),u=n("sWI9"),d=n("pEmh"),p=n("VHau"),h={name:"Modal",mixins:[u.a,d.a,p.a],components:{Icon:l.a,iButton:r.a},directives:{TransferDom:c.a},props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default:function(){return["ease","fade"]}},transfer:{type:Boolean,default:!0}},data:function(){return{prefixCls:"ivu-modal",wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.value}},computed:{wrapClasses:function(){var e;return["ivu-modal-wrap",(e={},s()(e,"ivu-modal-hidden",!this.wrapShow),s()(e,""+this.className,!!this.className),e)]},maskClasses:function(){return"ivu-modal-mask"},classes:function(){return"ivu-modal"},mainStyles:function(){var e={},t=parseInt(this.width),n={width:t<=100?t+"%":t+"px"},a=this.styles?this.styles:{};return o()(e,n,a),e},localeOkText:function(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-cancel")},mask:function(){this.maskClosable&&this.close()},handleWrapClick:function(e){var t=e.target.getAttribute("class");t&&t.indexOf("ivu-modal-wrap")>-1&&this.mask()},cancel:function(){this.close()},ok:function(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("input",!1)),this.$emit("on-ok")},EscClose:function(e){this.visible&&this.closable&&27===e.keyCode&&this.close()},animationFinish:function(){this.$emit("on-hidden")}},mounted:function(){this.visible&&(this.wrapShow=!0);var e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},beforeDestroy:function(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},watch:{value:function(e){this.visible=e},visible:function(e){var t=this;!1===e?(this.buttonLoading=!1,this.timer=setTimeout(function(){t.wrapShow=!1,t.removeScrollEffect()},300)):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e)},loading:function(e){e||(this.buttonLoading=!1)},scrollable:function(e){e?this.removeScrollEffect():this.addScrollEffect()},title:function(e){void 0===this.$slots.header&&(this.showHead=!!e)}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":e.transfer}},[n("transition",{attrs:{name:e.transitionNames[1]}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.maskClasses,on:{click:e.mask}})]),e._v(" "),n("div",{class:e.wrapClasses,on:{click:e.handleWrapClick}},[n("transition",{attrs:{name:e.transitionNames[0]},on:{"after-leave":e.animationFinish}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes,style:e.mainStyles},[n("div",{class:[e.prefixCls+"-content"]},[e.closable?n("a",{class:[e.prefixCls+"-close"],on:{click:e.close}},[e._t("close",[n("Icon",{attrs:{type:"ios-close-empty"}})])],2):e._e(),e._v(" "),e.showHead?n("div",{class:[e.prefixCls+"-header"]},[e._t("header",[n("div",{class:[e.prefixCls+"-header-inner"]},[e._v(e._s(e.title))])])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-body"]},[e._t("default")],2),e._v(" "),e.footerHide?e._e():n("div",{class:[e.prefixCls+"-footer"]},[e._t("footer",[n("i-button",{attrs:{type:"text",size:"large"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v(e._s(e.localeCancelText))]),e._v(" "),n("i-button",{attrs:{type:"primary",size:"large",loading:e.buttonLoading},nativeOn:{click:function(t){return e.ok(t)}}},[e._v(e._s(e.localeOkText))])])],2)])])])],1)],1)},staticRenderFns:[]},m=n("VU/8")(h,f,!1,null,null,null);t.a=m.exports},"+N+g":function(e,t){},"+NDZ":function(e,t){},"+skl":function(e,t){},"/Pop":function(e,t,n){"use strict";var a={name:"Collapse",props:{accordion:{type:Boolean,default:!1},value:{type:[Array,String]}},data:function(){return{currentValue:this.value}},computed:{classes:function(){return"ivu-collapse"}},mounted:function(){this.setActive()},methods:{setActive:function(){var e=this.getActiveKey();this.$children.forEach(function(t,n){var a=t.name||n.toString(),o=!1;o=self.accordion?e===a:e.indexOf(a)>-1,t.isActive=o,t.index=n})},getActiveKey:function(){var e=this.currentValue||[],t=this.accordion;Array.isArray(e)||(e=[e]),t&&e.length>1&&(e=[e[0]]);for(var n=0;n<e.length;n++)e[n]=e[n].toString();return e},toggle:function(e){var t=e.name.toString(),n=[];if(this.accordion)e.isActive||n.push(t);else{var a=this.getActiveKey(),o=a.indexOf(t);e.isActive?o>-1&&a.splice(o,1):o<0&&a.push(t),n=a}this.currentValue=n,this.$emit("input",n),this.$emit("on-change",n)}},watch:{value:function(e){this.currentValue=e},currentValue:function(){this.setActive()}}},o={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},staticRenderFns:[]},i=n("VU/8")(a,o,!1,null,null,null);t.a=i.exports},"1AZf":function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s={name:"ButtonGroup",props:{size:{validator:function(e){return Object(i.e)(e,["small","large","default"])}},shape:{validator:function(e){return Object(i.e)(e,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes:function(){var e;return["ivu-btn-group",(e={},o()(e,"ivu-btn-group-"+this.size,!!this.size),o()(e,"ivu-btn-group-"+this.shape,!!this.shape),o()(e,"ivu-btn-group-vertical",this.vertical),e)]}}},l={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},staticRenderFns:[]},r=n("VU/8")(s,l,!1,null,null,null);t.a=r.exports},"1rAC":function(e,t){},"3f11":function(e,t){},"4DTc":function(e,t){},"8ERU":function(e,t){},DOIn:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s="ivu-input-number";function l(e,t){var n,a=void 0,o=void 0;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return n=Math.pow(10,Math.max(a,o)),(Math.round(e*n)+Math.round(t*n))/n}var r={name:"InputNumber",mixins:[n("pEmh").a],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},value:{type:Number,default:1},size:{validator:function(e){return Object(i.e)(e,["small","large","default"])}},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function}},data:function(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.value}},computed:{wrapClasses:function(){var e;return[""+s,(e={},o()(e,s+"-"+this.size,!!this.size),o()(e,s+"-disabled",this.disabled),o()(e,s+"-focused",this.focused),e)]},handlerClasses:function(){return s+"-handler-wrap"},upClasses:function(){return[s+"-handler",s+"-handler-up",o()({},s+"-handler-up-disabled",this.upDisabled)]},innerUpClasses:function(){return s+"-handler-up-inner ivu-icon ivu-icon-ios-arrow-up"},downClasses:function(){return[s+"-handler",s+"-handler-down",o()({},s+"-handler-down-disabled",this.downDisabled)]},innerDownClasses:function(){return s+"-handler-down-inner ivu-icon ivu-icon-ios-arrow-down"},inputWrapClasses:function(){return s+"-input-wrap"},inputClasses:function(){return s+"-input"},precisionValue:function(){return this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue:function(){return this.formatter?this.formatter(this.precisionValue):this.precisionValue}},methods:{preventDefault:function(e){e.preventDefault()},up:function(e){var t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down:function(e){var t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep:function(e,t){if(this.disabled||this.readonly)return!1;var n=Number(t.target.value),a=Number(this.currentValue),o=Number(this.step);if(isNaN(a))return!1;if(!isNaN(n))if("up"===e){if(!(l(n,o)<=this.max))return!1;a=n}else if("down"===e){if(!(l(n,-o)>=this.min))return!1;a=n}"up"===e?a=l(a,o):"down"===e&&(a=l(a,-o)),this.setValue(a)},setValue:function(e){var t=this;isNaN(this.precision)||(e=Number(Number(e).toFixed(this.precision))),this.$nextTick(function(){t.currentValue=e,t.$emit("input",e),t.$emit("on-change",e),t.dispatch("FormItem","on-form-change",e)})},focus:function(){this.focused=!0,this.$emit("on-focus")},blur:function(){this.focused=!1,this.$emit("on-blur")},keyDown:function(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change:function(e){var t=e.target.value.trim();if(this.parser&&(t=this.parser(t)),"input"!=e.type||!t.match(/^\-?\.?$|\.$/)){var n=this.min,a=this.max,o=0===t.length;if(t=Number(t),!("change"==e.type&&t===this.currentValue&&t>n&&t<a))if(isNaN(t)||o)e.target.value=this.currentValue;else{if(this.currentValue=t,"input"==e.type&&t<n)return;t>a?this.setValue(a):t<n?this.setValue(n):this.setValue(t)}}},changeVal:function(e){if(e=Number(e),isNaN(e))this.upDisabled=!0,this.downDisabled=!0;else{var t=this.step;this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min}}},mounted:function(){this.changeVal(this.currentValue)},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.changeVal(e)},min:function(){this.changeVal(this.currentValue)},max:function(){this.changeVal(this.currentValue)}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},[n("div",{class:e.handlerClasses},[n("a",{class:e.upClasses,on:{click:e.up,mousedown:e.preventDefault}},[n("span",{class:e.innerUpClasses,on:{click:e.preventDefault}})]),e._v(" "),n("a",{class:e.downClasses,on:{click:e.down,mousedown:e.preventDefault}},[n("span",{class:e.innerDownClasses,on:{click:e.preventDefault}})])]),e._v(" "),n("div",{class:e.inputWrapClasses},[n("input",{class:e.inputClasses,attrs:{id:e.elementId,disabled:e.disabled,autocomplete:"off",spellcheck:"false",autofocus:e.autofocus,readonly:e.readonly||!e.editable,name:e.name},domProps:{value:e.formatterValue},on:{focus:e.focus,blur:e.blur,keydown:function(t){return t.stopPropagation(),e.keyDown(t)},input:e.change,change:e.change}})])])},staticRenderFns:[]},u=n("VU/8")(r,c,!1,null,null,null);t.a=u.exports},LW0X:function(e,t,n){"use strict";var a={name:"Icon",props:{type:String,size:[Number,String],color:String},computed:{classes:function(){return"ivu-icon ivu-icon-"+this.type},styles:function(){var e={};return this.size&&(e["font-size"]=this.size+"px"),this.color&&(e.color=this.color),e}}},o={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:this.classes,style:this.styles})},staticRenderFns:[]},i=n("VU/8")(a,o,!1,null,null,null);t.a=i.exports},LZAs:function(e,t){},MZX1:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s=n("pEmh"),l="ivu-radio-group",r=0,c=Date.now(),u={name:"RadioGroup",mixins:[s.a],props:{value:{type:[String,Number],default:""},size:{validator:function(e){return Object(i.e)(e,["small","large","default"])}},type:{validator:function(e){return Object(i.e)(e,["button"])}},vertical:{type:Boolean,default:!1},name:{type:String,default:function(){return"ivuRadioGroup_"+c+"_"+r++}}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){var e;return[""+l,(e={},o()(e,l+"-"+this.size,!!this.size),o()(e,"ivu-radio-"+this.size,!!this.size),o()(e,l+"-"+this.type,!!this.type),o()(e,l+"-vertical",this.vertical),e)]}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var e=this;this.childrens=Object(i.c)(this,"Radio"),this.childrens&&this.childrens.forEach(function(t){t.currentValue=e.value===t.label,t.group=!0})},change:function(e){this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value),this.dispatch("FormItem","on-form-change",e.value)}},watch:{value:function(){this.currentValue=this.value,this.updateValue()}}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,attrs:{name:this.name}},[this._t("default")],2)},staticRenderFns:[]},p=n("VU/8")(u,d,!1,null,null,null);t.a=p.exports},NCGg:function(e,t){},PyXO:function(e,t){},QtvS:function(e,t,n){"use strict";var a=n("ev9z"),o=n("WuDf"),i=n("9Xvl"),s={name:"Tooltip",directives:{TransferDom:o.a},mixins:[a.a],props:{placement:{validator:function(e){return Object(i.e)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},content:{type:[String,Number],default:""},delay:{type:Number,default:100},disabled:{type:Boolean,default:!1},controlled:{type:Boolean,default:!1},always:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tooltip"}},watch:{content:function(){this.updatePopper()}},methods:{handleShowPopper:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!0},this.delay)},handleClosePopper:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.controlled||(this.timeout=setTimeout(function(){e.visible=!1},100)))}},mounted:function(){this.always&&this.updatePopper()}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls],on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[n("div",{ref:"reference",class:[e.prefixCls+"-rel"]},[e._t("default")],2),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&(e.visible||e.always),expression:"!disabled && (visible || always)"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:[e.prefixCls+"-popper"],attrs:{"data-transfer":e.transfer},on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[n("div",{class:[e.prefixCls+"-content"]},[n("div",{class:[e.prefixCls+"-arrow"]}),e._v(" "),n("div",{class:[e.prefixCls+"-inner"]},[e._t("content",[e._v(e._s(e.content))])],2)])])])],1)},staticRenderFns:[]},r=n("VU/8")(s,l,!1,null,null,null);t.a=r.exports},RkJZ:function(e,t){},RwgF:function(e,t){},SrUm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n("7+uW"),a=n("pwV8"),o=n("lVK7");t.default.use(o.a);let i=e&&!1;t.default.config.debug=i,t.default.config.devtools=i,t.default.config.productionTip=i,new t.default({render:e=>e(a.a)}).$mount("#app")}.call(t,n("W2nU"))},"TEW+":function(e,t){},VIzs:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s={name:"iSwitch",mixins:[n("pEmh").a],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},size:{validator:function(e){return Object(i.e)(e,["large","small","default"])}},name:{type:String}},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){var e;return["ivu-switch",(e={},o()(e,"ivu-switch-checked",this.currentValue===this.trueValue),o()(e,"ivu-switch-disabled",this.disabled),o()(e,"ivu-switch-"+this.size,!!this.size),e)]},innerClasses:function(){return"ivu-switch-inner"}},methods:{toggle:function(e){if(e.preventDefault(),this.disabled)return!1;var t=this.currentValue===this.trueValue?this.falseValue:this.trueValue;this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t)}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.currentValue=e}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.wrapClasses,attrs:{tabindex:"0"},on:{click:e.toggle,keydown:function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key," ")?e.toggle(t):null}}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentValue}}),e._v(" "),n("span",{class:e.innerClasses},[e.currentValue===e.trueValue?e._t("open"):e._e(),e._v(" "),e.currentValue===e.falseValue?e._t("close"):e._e()],2)])},staticRenderFns:[]},r=n("VU/8")(s,l,!1,null,null,null);t.a=r.exports},VrLL:function(e,t,n){"use strict";var a=n("MICi"),o=n.n(a),i=n("bOdI"),s=n.n(i),l=n("9Xvl"),r=n("tIEP"),c="ivu-input",u={name:"Input",mixins:[n("pEmh").a],props:{type:{validator:function(e){return Object(l.e)(e,["text","textarea","password","url","email","date"])},default:"text"},value:{type:[String,Number],default:""},size:{validator:function(e){return Object(l.e)(e,["small","large","default"])}},placeholder:{type:String,default:""},maxlength:{type:Number},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{validator:function(e){return Object(l.e)(e,["on","off"])},default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator:function(e){return Object(l.e)(e,["hard","soft"])},default:"soft"}},data:function(){return{currentValue:this.value,prefixCls:c,prepend:!0,append:!0,slotReady:!1,textareaStyles:{}}},computed:{wrapClasses:function(){var e;return["ivu-input-wrapper",(e={},s()(e,"ivu-input-wrapper-"+this.size,!!this.size),s()(e,"ivu-input-type",this.type),s()(e,"ivu-input-group",this.prepend||this.append),s()(e,"ivu-input-group-"+this.size,(this.prepend||this.append)&&!!this.size),s()(e,"ivu-input-group-with-prepend",this.prepend),s()(e,"ivu-input-group-with-append",this.append),s()(e,"ivu-input-hide-icon",this.append),e)]},inputClasses:function(){var e;return["ivu-input",(e={},s()(e,"ivu-input-"+this.size,!!this.size),s()(e,"ivu-input-disabled",this.disabled),e)]},textareaClasses:function(){return["ivu-input",s()({},"ivu-input-disabled",this.disabled)]}},methods:{handleEnter:function(e){this.$emit("on-enter",e)},handleKeydown:function(e){this.$emit("on-keydown",e)},handleKeypress:function(e){this.$emit("on-keypress",e)},handleKeyup:function(e){this.$emit("on-keyup",e)},handleIconClick:function(e){this.$emit("on-click",e)},handleFocus:function(e){this.$emit("on-focus",e)},handleBlur:function(e){this.$emit("on-blur",e),Object(l.b)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleInput:function(e){var t=e.target.value;this.number&&(t=o()(Number(t))?t:Number(t)),this.$emit("input",t),this.setCurrentValue(t),this.$emit("on-change",e)},handleChange:function(e){this.$emit("on-input-change",e)},setCurrentValue:function(e){var t=this;e!==this.currentValue&&(this.$nextTick(function(){t.resizeTextarea()}),this.currentValue=e,Object(l.b)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea:function(){var e=this.autosize;if(!e||"textarea"!==this.type)return!1;var t=e.minRows,n=e.maxRows;this.textareaStyles=Object(r.a)(this.$refs.textarea,t,n)},focus:function(){"textarea"===this.type?this.$refs.textarea.focus():this.$refs.input.focus()},blur:function(){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},handleClear:function(){this.$emit("input",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}})}},watch:{value:function(e){this.setCurrentValue(e)}},mounted:function(){"textarea"!==this.type?(this.prepend=void 0!==this.$slots.prepend,this.append=void 0!==this.$slots.append):(this.prepend=!1,this.append=!1),this.slotReady=!0,this.resizeTextarea()}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},["textarea"!==e.type?[e.prepend?n("div",{directives:[{name:"show",rawName:"v-show",value:e.slotReady,expression:"slotReady"}],class:[e.prefixCls+"-group-prepend"]},[e._t("prepend")],2):e._e(),e._v(" "),e.clearable?n("i",{staticClass:"ivu-icon",class:["ivu-icon-ios-close",e.prefixCls+"-icon",e.prefixCls+"-icon-clear",e.prefixCls+"-icon-normal"],on:{click:e.handleClear}}):e.icon?n("i",{staticClass:"ivu-icon",class:["ivu-icon-"+e.icon,e.prefixCls+"-icon",e.prefixCls+"-icon-normal"],on:{click:e.handleIconClick}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.icon?e._e():n("i",{staticClass:"ivu-icon ivu-icon-load-c ivu-load-loop",class:[e.prefixCls+"-icon",e.prefixCls+"-icon-validate"]})]),e._v(" "),n("input",{ref:"input",class:e.inputClasses,attrs:{id:e.elementId,autocomplete:e.autocomplete,spellcheck:e.spellcheck,type:e.type,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,readonly:e.readonly,name:e.name,number:e.number,autofocus:e.autofocus},domProps:{value:e.currentValue},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleEnter(t):null},e.handleKeyup],keypress:e.handleKeypress,keydown:e.handleKeydown,focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput,change:e.handleChange}}),e._v(" "),e.append?n("div",{directives:[{name:"show",rawName:"v-show",value:e.slotReady,expression:"slotReady"}],class:[e.prefixCls+"-group-append"]},[e._t("append")],2):e._e()]:n("textarea",{ref:"textarea",class:e.textareaClasses,style:e.textareaStyles,attrs:{id:e.elementId,wrap:e.wrap,autocomplete:e.autocomplete,spellcheck:e.spellcheck,placeholder:e.placeholder,disabled:e.disabled,rows:e.rows,maxlength:e.maxlength,readonly:e.readonly,name:e.name,autofocus:e.autofocus},domProps:{value:e.currentValue},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleEnter(t):null},e.handleKeyup],keypress:e.handleKeypress,keydown:e.handleKeydown,focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput}})],2)},staticRenderFns:[]},p=n("VU/8")(u,d,!1,null,null,null);t.a=p.exports},Wo1q:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("LW0X"),s=n("/bMH"),l={name:"Panel",components:{Icon:i.a,CollapseTransition:s.a},props:{name:{type:String}},data:function(){return{index:0,isActive:!1}},computed:{itemClasses:function(){return["ivu-collapse-item",o()({},"ivu-collapse-item-active",this.isActive)]},headerClasses:function(){return"ivu-collapse-header"},contentClasses:function(){return"ivu-collapse-content"},boxClasses:function(){return"ivu-collapse-content-box"}},methods:{toggle:function(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.itemClasses},[n("div",{class:e.headerClasses,on:{click:e.toggle}},[n("Icon",{attrs:{type:"arrow-right-b"}}),e._v(" "),e._t("default")],2),e._v(" "),n("collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],class:e.contentClasses},[n("div",{class:e.boxClasses},[e._t("content")],2)])])],1)},staticRenderFns:[]},c=n("VU/8")(l,r,!1,null,null,null);t.a=c.exports},YY1x:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s={name:"Radio",mixins:[n("pEmh").a],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator:function(e){return Object(i.e)(e,["small","large","default"])}},name:{type:String}},data:function(){return{currentValue:this.value,group:!1,groupName:this.name,parent:Object(i.b)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses:function(){var e;return["ivu-radio-wrapper",(e={},o()(e,"ivu-radio-group-item",this.group),o()(e,"ivu-radio-wrapper-checked",this.currentValue),o()(e,"ivu-radio-wrapper-disabled",this.disabled),o()(e,"ivu-radio-"+this.size,!!this.size),o()(e,"ivu-radio-focus",this.focusWrapper),e)]},radioClasses:function(){var e;return["ivu-radio",(e={},o()(e,"ivu-radio-checked",this.currentValue),o()(e,"ivu-radio-disabled",this.disabled),e)]},innerClasses:function(){return["ivu-radio-inner",o()({},"ivu-radio-focus",this.focusInner)]},inputClasses:function(){return"ivu-radio-input"}},mounted:function(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),this.group?this.parent.updateValue():this.updateValue()},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateValue:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusWrapper=!1,this.focusInner=!1},onFocus:function(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.wrapClasses},[n("span",{class:e.radioClasses},[n("span",{class:e.innerClasses}),e._v(" "),n("input",{class:e.inputClasses,attrs:{type:"radio",disabled:e.disabled,name:e.groupName},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._v(" "),e._t("default",[e._v(e._s(e.label))])],2)},staticRenderFns:[]},r=n("VU/8")(s,l,!1,null,null,null);t.a=r.exports},agqn:function(e,t,n){"use strict";var a=n("//Fk"),o=n.n(a),i=n("bOdI"),s=n.n(i),l=n("9Xvl"),r={name:"iForm",props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator:function(e){return Object(l.e)(e,["left","right","top"])},default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator:function(e){return Object(l.e)(e,["on","off"])},default:"off"}},data:function(){return{fields:[]}},computed:{classes:function(){return["ivu-form","ivu-form-label-"+this.labelPosition,s()({},"ivu-form-inline",this.inline)]}},methods:{resetFields:function(){this.fields.forEach(function(e){e.resetField()})},validate:function(e){var t=this;return new o.a(function(n){var a=!0,o=0;t.fields.forEach(function(i){i.validate("",function(i){i&&(a=!1),++o===t.fields.length&&(n(a),"function"==typeof e&&e(a))})})})},validateField:function(e,t){var n=this.fields.filter(function(t){return t.prop===e})[0];if(!n)throw new Error("[iView warn]: must call validateField with valid prop string!");n.validate("",t)}},watch:{rules:function(){this.validate()}},created:function(){var e=this;this.$on("on-form-item-add",function(t){return t&&e.fields.push(t),!1}),this.$on("on-form-item-remove",function(t){return t.prop&&e.fields.splice(e.fields.indexOf(t),1),!1})}},c={render:function(){var e=this.$createElement;return(this._self._c||e)("form",{class:this.classes,attrs:{autocomplete:this.autocomplete}},[this._t("default")],2)},staticRenderFns:[]},u=n("VU/8")(r,c,!1,null,null,null);t.a=u.exports},eLRY:function(e,t){},g598:function(e,t){},gMJu:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("EMb8"),s=n("9Xvl"),l={name:"Button",components:{Icon:i.a},props:{type:{validator:function(e){return Object(s.e)(e,["primary","ghost","dashed","text","info","success","warning","error","default"])}},shape:{validator:function(e){return Object(s.e)(e,["circle","circle-outline"])}},size:{validator:function(e){return Object(s.e)(e,["small","large","default"])}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator:function(e){return Object(s.e)(e,["button","submit","reset"])}},icon:String,long:{type:Boolean,default:!1}},data:function(){return{showSlot:!0}},computed:{classes:function(){var e;return["ivu-btn",(e={},o()(e,"ivu-btn-"+this.type,!!this.type),o()(e,"ivu-btn-long",this.long),o()(e,"ivu-btn-"+this.shape,!!this.shape),o()(e,"ivu-btn-"+this.size,!!this.size),o()(e,"ivu-btn-loading",null!=this.loading&&this.loading),o()(e,"ivu-btn-icon-only",!this.showSlot&&(!!this.icon||this.loading)),e)]}},methods:{handleClick:function(e){this.$emit("click",e)}},mounted:function(){this.showSlot=void 0!==this.$slots.default}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.classes,attrs:{type:e.htmlType,disabled:e.disabled},on:{click:e.handleClick}},[e.loading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"load-c"}}):e._e(),e._v(" "),e.icon&&!e.loading?n("Icon",{attrs:{type:e.icon}}):e._e(),e._v(" "),e.showSlot?n("span",{ref:"slot"},[e._t("default")],2):e._e()],1)},staticRenderFns:[]},c=n("VU/8")(l,r,!1,null,null,null);t.a=c.exports},goFn:function(e,t){},"h/Zt":function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("jwfv"),s="ivu-form-item";function l(e,t){for(var n=e,a=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,i=a.length;o<i-1;++o){var s=a[o];if(!(s in n))throw new Error("[iView warn]: please transfer a valid prop path to form item!");n=n[s]}return{o:n,k:a[o],v:n[a[o]]}}var r={name:"FormItem",mixins:[n("pEmh").a],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data:function(){return{prefixCls:s,isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}},watch:{error:function(e){this.validateMessage=e,this.validateState=""===e?"":"error"},validateStatus:function(e){this.validateState=e}},computed:{classes:function(){var e;return[""+s,(e={},o()(e,s+"-required",this.required||this.isRequired),o()(e,s+"-error","error"===this.validateState),o()(e,s+"-validating","validating"===this.validateState),e)]},form:function(){for(var e=this.$parent;"iForm"!==e.$options.name;)e=e.$parent;return e},fieldValue:{cache:!1,get:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),l(e,t).v}}},labelStyles:function(){var e={},t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t+"px"),e},contentStyles:function(){var e={},t=this.labelWidth||this.form.labelWidth;return t&&(e.marginLeft=t+"px"),e}},methods:{getRules:function(){var e=this.form.rules,t=this.rules;return e=e?e[this.prop]:[],[].concat(t||e||[])},getFilteredRule:function(e){return this.getRules().filter(function(t){return!t.trigger||-1!==t.trigger.indexOf(e)})},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=this.getFilteredRule(e);if(!a||0===a.length)return n(),!0;this.validateState="validating";var o={};o[this.prop]=a;var s=new i.a(o),l={};l[this.prop]=this.fieldValue,s.validate(l,{firstFields:!0},function(e){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage)}),this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.form.model,t=this.fieldValue,n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));var a=l(e,n);Array.isArray(t)?(this.validateDisabled=!0,a.o[a.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,a.o[a.k]=this.initialValue)},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted:function(){var e=this;if(this.prop){this.dispatch("iForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue});var t=this.getRules();t.length&&(t.every(function(t){if(t.required)return e.isRequired=!0,!1}),this.$on("on-form-blur",this.onFieldBlur),this.$on("on-form-change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("iForm","on-form-item-remove",this)}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e.label||e.$slots.label?n("label",{class:[e.prefixCls+"-label"],style:e.labelStyles,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label))])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-content"],style:e.contentStyles},[e._t("default"),e._v(" "),n("transition",{attrs:{name:"fade"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?n("div",{class:[e.prefixCls+"-error-tip"]},[e._v(e._s(e.validateMessage))]):e._e()])],2)])},staticRenderFns:[]},u=n("VU/8")(r,c,!1,null,null,null);t.a=u.exports},iZNE:function(e,t,n){"use strict";var a=n("bOdI"),o=n.n(a),i=n("9Xvl"),s={name:"Spin",mixins:[n("VHau").a],props:{size:{validator:function(e){return Object(i.e)(e,["small","large"])}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{showText:!1,visible:!1}},computed:{classes:function(){var e;return["ivu-spin",(e={},o()(e,"ivu-spin-"+this.size,!!this.size),o()(e,"ivu-spin-fix",this.fix),o()(e,"ivu-spin-show-text",this.showText),o()(e,"ivu-spin-fullscreen",this.fullscreen),e)]},mainClasses:function(){return"ivu-spin-main"},dotClasses:function(){return"ivu-spin-dot"},textClasses:function(){return"ivu-spin-text"},fullscreenVisible:function(){return!this.fullscreen||this.visible}},watch:{visible:function(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted:function(){this.showText=void 0!==this.$slots.default}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.fullscreenVisible?n("div",{class:e.classes},[n("div",{class:e.mainClasses},[n("span",{class:e.dotClasses}),e._v(" "),n("div",{class:e.textClasses},[e._t("default")],2)])]):e._e()])},staticRenderFns:[]},r=n("VU/8")(s,l,!1,null,null,null);t.a=r.exports},ihi3:function(e,t){},kA1o:function(e,t){},lVK7:function(e,t,n){"use strict";var a=n("kykP"),o=n("wdqF"),i=n("V1UY"),s=n("jsyp"),l=n("mRcN"),r=n("ah33"),c=n("/yU1"),u=n("bzvv"),d=n("JtJ0"),p=n("8sRp"),h=n("7iSr"),f=n("ppDF"),m=n("EMb8"),v=n("KxKW"),g=(n("+skl"),n("NCGg"),{name:"XPEHandler",props:{mode:{type:String,validator:function(e){return["horizontal","vertical"].includes(e)},default:"vertical"},position:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)},default:"right"},expand:{type:Boolean,default:!0},callback:{type:Function}},computed:{className:function(){return["xpe_handler",this.mode,this.position,this.expand]}},methods:{toggleHandler:function(){this.callback&&this.callback()}}}),y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.className,on:{click:this.toggleHandler}})},staticRenderFns:[]};var b=n("VU/8")(g,y,!1,function(e){n("ihi3")},"data-v-1293ae91",null).exports,x=n("Dd8w"),w=n.n(x),_=n("7+uW"),P=new _.default,C=n("pFYg"),k=n.n(C),E=n("fZjL"),M=n.n(E);function X(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function I(e,t){return X(e)===X(t)}var T={getType:X,isSameType:I,getTypeIndex:function(e,t){if(!Array.isArray(t))return I(t,e)?0:-1;for(var n=0,a=t.length;n<a;n++)if(I(t[n],e))return n;return-1},mergeObject:function(e,t){return function e(t,n){var a=M()(t);return a.length&&a.map(function(a){var o=t[a];n.hasOwnProperty(a)&&(void 0===o?"undefined":k()(o))===k()(n[a])&&("object"!==(void 0===o?"undefined":k()(o))||"object"===(void 0===o?"undefined":k()(o))&&o instanceof Array?t[a]=n[a]:"object"===(void 0===o?"undefined":k()(o))&&"object"===(void 0===n?"undefined":k()(n))&&(t[a]=e(o,n[a])))}),t}(e,t)}},$=w()({bus:P},T),S={name:"XPEAddProjectModal",data:function(){return{isShow:!1,formData:{name:"",type:"",width:0,height:0},formRules:{name:{required:!0,trigger:"change"}},typeMap:{pc:{key:"pc",val:"pc",icon:"monitor",width:960,height:1e3},mobile:{key:"mobile",val:"mobile",icon:"iphone",width:376,height:667}}}},watch:{"formData.type":function(e){var t=this.typeMap[e],n=t.width,a=t.height;this.formData=w()({},this.formData,{width:n,height:a})}},methods:{init:function(){this.formData={name:"",type:"pc",width:this.typeMap.pc.width,height:this.typeMap.pc.height}},handleOK:function(){var e=this,t=!1;if(e.$refs.addProjectForm.validate(function(n){t=n,n||e.$Message.error("表单验证失败！")}),console.log("validResult",t),!t)return!1;e.isShow=!1;var n=(new Date).getTime(),a=w()({},e.formData,{width:e.formData.width+"px",height:e.formData.height+"px",id:"project-"+n,components:[],selectionStyleMap:{}});$.bus.$emit("XPE/project/add/ok",a),e.$nextTick(function(){e.init()})},handleCancel:function(){this.isShow=!1}},created:function(){var e=this;e.init(),$.bus.$on("XPE/project/add",function(){e.isShow=!0})}},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("XUIModal",{staticClass:"xpe_add-project-modal",attrs:{value:e.isShow,title:"新建项目",transfer:!1},on:{"on-ok":e.handleOK,"on-cancel":e.handleCancel}},[n("XUIForm",{ref:"addProjectForm",attrs:{model:e.formData,rules:e.formRules,"label-width":120},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[n("XUIFormItem",{attrs:{label:"项目名称：",prop:"name"}},[n("XUIInput",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"请输入项目名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),n("XUIFormItem",{attrs:{label:"模式：",prop:"type"}},[n("XUIRadioGroup",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeMap,function(t,a){return n("XUIRadio",{key:a,attrs:{label:a}},[n("XUIIcon",{attrs:{type:t.icon}}),e._v(" "),n("span",[e._v(e._s(t.val))])],1)}))],1),e._v(" "),n("XUIFormItem",{attrs:{label:"width：",prop:"width"}},[n("XUIInputNumber",{model:{value:e.formData.width,callback:function(t){e.$set(e.formData,"width",t)},expression:"formData.width"}}),e._v(" "),n("span",[e._v("px")])],1),e._v(" "),n("XUIFormItem",{attrs:{label:"height：",prop:"height"}},[n("XUIInputNumber",{model:{value:e.formData.height,callback:function(t){e.$set(e.formData,"height",t)},expression:"formData.height"}}),e._v(" "),n("span",[e._v("px")])],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text",size:"large"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),n("Button",{attrs:{type:"primary",size:"large"},on:{click:e.handleOK}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var D=n("VU/8")(S,O,!1,function(e){n("RkJZ")},null,null).exports,j=n("bOdI"),V=n.n(j),N={name:"XPETabList",data:function(){return{tabMap:{},currentActive:"",currentTarget:"",isShow:!1}},methods:{handleClose:function(e){this.isShow=!0,this.currentTarget=e},handleCloseCurrentTarget:function(){var e=this,t=e.currentTarget;if(e.currentActive===t.id){var n=M()(e.tabMap);if(n&&n.length>1){var a=n.indexOf(t.id);e.currentActive=n[a-1]}else e.currentActive="";$.bus.$emit("XPE/project/trigger",e.currentActive)}delete e.tabMap[t.id],$.bus.$emit("XPE/project/remove",t.id),e.currentTarget=""},handleTrigger:function(e){this.currentActive=e.id,$.bus.$emit("XPE/project/trigger",this.currentActive)},handleOK:function(){this.handleCloseCurrentTarget(),this.isShow=!1},handleCancel:function(){this.currentTarget="",this.isShow=!1}},created:function(){var e=this;$.bus.$on("XPE/project/add/ok",function(t){e.tabMap=w()({},e.tabMap,V()({},t.id,t)),e.currentActive=t.id})}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xpe_tab_list"},[e._l(e.tabMap,function(t){return n("div",{key:t.id,class:["tab_item",e.currentActive===t.id?"active":""],attrs:{"project-id":t.id,name:t.name,title:t.name},on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.handleTrigger(t)}}},[n("div",{staticClass:"title"},[e._v(" "+e._s(t.name))]),e._v(" "),n("div",{staticClass:"close",on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.handleClose(t)}}},[n("Icon",{attrs:{type:"close"}})],1)])}),e._v(" "),n("XUIModal",{staticClass:"xpe_add-project-modal",attrs:{value:e.isShow,title:"提示",transfer:!1},on:{"on-ok":e.handleOK,"on-cancel":e.handleCancel}},[n("div",{staticClass:"content"},[e._v("\n      删除项目会清空该项目的所有数据，确认删除项目吗？\n    ")]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text",size:"large"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),n("Button",{attrs:{type:"primary",size:"large"},on:{click:e.handleOK}},[e._v("确定")])],1)])],2)},staticRenderFns:[]};var B={namespace:"XPE",UI:{header:{enable:!0,title:{enable:!0,text:"XPE",fullText:"X-Page-Editor",subText:"x-page-editor"},data:[],initData:[]},list:{enable:!0,data:[],initData:[],style:{width:"400px","margin-left":"-400px"}},board:{enable:!0,data:[],initData:[],toolBar:{enable:!0,position:"top-right",style:{right:"450px"}},scale:{enable:!0}},options:{enable:!0,data:[],initData:[],style:{width:"400px","margin-right":"-400px"}},footer:{enable:!0,data:[],initData:[]}},output:{before:function(){},after:function(){}}},F={name:"XPEHeader",components:{XPEHandler:b,XPEAddProjectModal:D,XPETabList:n("VU/8")(N,U,!1,function(e){n("eLRY")},"data-v-5ccefed6",null).exports},props:{config:{type:Object,default:function(){return B.UI.header}}},data:function(){return{isExpand:!0,tabList:[]}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand,t.$nextTick(function(){var e=t.isExpand?t.$el.offsetHeight:0;$.bus.$emit("XPE/expand/toggle/single",{position:"top",val:{top:e}})})},handleAction:function(e){console.log("handleAction",e);switch(e){case"addProject":$.bus.$emit("XPE/project/add")}}},created:function(){var e=this;$.bus.$on("XPE/expand/toggle/all",function(t){e.toggleHandler(t)})}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{xpe_header:!0,block_expand:e.isExpand}},[e.config.title.enable?n("div",{staticClass:"block_header"},[n("div",{staticClass:"title"},[e._v(e._s(e.config.title.text))])]):e._e(),e._v(" "),n("div",{staticClass:"block_body"},[n("div",{staticClass:"tab-group"},[n("XPETabList")],1),e._v(" "),n("div",{staticClass:"btn-group"},[n("XUIButton",{staticClass:"btn-item",attrs:{type:"text"},on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault(),e.handleAction("addProject")}}},[n("XPEIcon",{attrs:{type:"add-circle",title:"新建项目"}})],1),e._v(" "),n("XUIButton",{staticClass:"btn-item",attrs:{type:"text"},on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault(),e.handleAction("ui")}}},[n("XPEIcon",{attrs:{type:"ui",title:"UI"}})],1),e._v(" "),n("XUIButton",{staticClass:"btn-item",attrs:{type:"text"},on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault(),e.handleAction("preview")}}},[n("XPEIcon",{attrs:{type:"preview",title:"预览"}})],1)],1)]),e._v(" "),n("XPEHandler",{staticClass:"handler",attrs:{mode:"horizontal",position:"bottom",expand:e.isExpand,callback:e.toggleHandler}}),e._v(" "),n("XPEAddProjectModal")],1)},staticRenderFns:[]};var z=n("VU/8")(F,R,!1,function(e){n("+N+g")},"data-v-9e2af8a8",null).exports,L={name:"XPEList",components:{XPEHandler:b},props:{config:{type:Object,default:function(){return B.UI.list}}},data:function(){return{isExpand:!0}},computed:{computedStyle:function(){return w()({},this.config.style,{"margin-left":this.isExpand?0:this.config.style["margin-left"]})}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand,t.$nextTick(function(){var e=t.isExpand?t.$el.offsetWidth:0;$.bus.$emit("XPE/expand/toggle/single",{position:"left",val:{left:e}})})}},created:function(){var e=this;console.log("List Config::",e.config),$.bus.$on("XPE/expand/toggle/all",function(t){e.toggleHandler(t)})}},H={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{xpe_list:!0,block_expand:e.isExpand},style:e.computedStyle},[e._m(0),e._v(" "),n("div",{staticClass:"block_body"},[e._t("default")],2),e._v(" "),n("XPEHandler",{staticClass:"handler",attrs:{mode:"vertical",position:"right",expand:e.isExpand,callback:e.toggleHandler}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block_header"},[t("div",{staticClass:"title"},[this._v("\n      资源列表\n    ")])])}]};var A=n("VU/8")(L,H,!1,function(e){n("kA1o")},"data-v-70262ad2",null).exports,G={name:"XPEToolBar",props:{config:{type:Object,default:function(){return B.UI.board.toolBar}},expand:{type:Boolean,default:!0}},data:function(){var e=this;return{defBarList:[{name:"expand",text:"展开",icon:"expand",category:"expand",enable:!0,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!1},toolTip:{enable:!1,content:""}},{name:"fold",text:"折叠",icon:"fold",category:"expand",enable:!0,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!0},toolTip:{enable:!1,content:""}},{name:"zoom-in",text:"放大",icon:"zoom-in",category:"zoom",enable:!0,action:{type:"bus",handler:"XPE/canvas/zoom",params:{type:"zoom-in",callback:function(t){e.handleToolTipContent("zoom",t)}}},toolTip:{enable:!0,content:""}},{name:"zoom-reset",text:"还原",icon:"zoom",category:"zoom",enable:!0,action:{type:"bus",handler:"XPE/canvas/zoom",params:{type:"zoom-reset",callback:function(t){e.handleToolTipContent("zoom",t)}}},toolTip:{enable:!0,content:""}},{name:"zoom-out",text:"缩小",icon:"zoom-out",category:"zoom",enable:!0,action:{type:"bus",handler:"XPE/canvas/zoom",params:{type:"zoom-out",callback:function(t){e.handleToolTipContent("zoom",t)}}},toolTip:{enable:!0,content:""}}],barList:[],defStyle:{"top-left":{top:"100px",left:"450px"},"top-right":{top:"100px",right:"450px"},"bottom-right":{bottom:"100px",right:"450px"},"bottom-left":{bottom:"100px",left:"450px"}},style:{},distance:50,toolTip:{placement:{"top-left":"right","top-right":"left","bottom-right":"left","bottom-left":"right"}}}},watch:{expand:function(e){console.log("isExpand",e),this.handleBarList(e)}},methods:{init:function(){var e=this;e.style=w()({},e.defStyle[e.config.position],e.config.style),e.handleBarList(e.expand)},handleBarList:function(e){var t=this.defBarList.filter(function(t){if("expand"!==t.category)return t;if(e){if("expand"===t.name)return t}else if("fold"===t.name)return t});this.barList=t},triggerBarItem:function(e){if(console.log("triggerBarItem",e.text,e.name),e&&e.action&&e.action.type)switch(e.action.type){case"bus":console.log("info.action.handler",e.action.handler),$.bus.$emit(e.action.handler,e.action.params)}},handleToolTipContent:function(e,t){this.barList.map(function(n){return n.category===e&&(n.toolTip.content=t),n})}},created:function(){var e=this;e.init(),$.bus.$on("XPE/expand/toggle/single",function(t){var n={};if(t&&t.position){switch(e.config.position){case"top-left":"top"===t.position?n={top:t.val.top+e.distance+"px",left:e.style.left}:"left"===t.position&&(n={top:e.style.top,left:t.val.left+e.distance+"px"});break;case"top-right":"top"===t.position?n={top:t.val.top+e.distance+"px",right:e.style.right}:"right"===t.position&&(n={top:e.style.top,right:t.val.right+e.distance+"px"});break;case"bottom-right":"bottom"===t.position?n={bottom:t.val.bottom+e.distance+"px",right:e.style.right}:"right"===t.position&&(n={bottom:e.style.bottom,right:t.val.right+e.distance+"px"});break;case"bottom-left":"bottom"===t.position?n={bottom:t.val.bottom+e.distance+"px",left:e.style.left}:"left"===t.position&&(n={bottom:e.style.bottom,left:t.val.left+e.distance+"px"})}M()(n).length&&(e.style=n)}})}},W={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xpe_tool-bar",style:e.style,on:{dblclick:function(e){e.stopPropagation(),e.preventDefault()},contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.stopPropagation(),e.preventDefault()}}},[n("div",{staticClass:"bar-list"},e._l(e.barList,function(t,a){return t.enable?n("div",{key:a,staticClass:"bar-item",on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.stopPropagation(),e.preventDefault()},click:function(n){n.stopPropagation(),n.preventDefault(),e.triggerBarItem(t)}}},[t.toolTip&&t.toolTip.enable&&t.toolTip.content?n("XUITooltip",{attrs:{transfer:"",placement:e.toolTip.placement[e.config.position],content:t.toolTip.content}},[n("XPEIcon",{attrs:{type:t.icon,title:t.text}})],1):n("XPEIcon",{attrs:{type:t.icon,title:t.text}})],1):e._e()}))])},staticRenderFns:[]};var K=n("VU/8")(G,W,!1,function(e){n("y22e")},"data-v-21e4a171",null).exports,q={name:"XPEScale",props:{config:{type:Object,default:function(){return B.UI.board.scale}},width:{type:Number,default:0},height:{type:Number,default:0}},data:function(){return{scaleList:{x:[],y:[]},guidesMap:{},currentProject:"",zoom:{current:0,max:5,min:-5}}},watch:{width:function(e){console.log("width",e);this.computeScaleList("x",e)},height:function(e){console.log("height",e);this.computeScaleList("y",e)}},methods:{computeScaleList:function(e,t){var n=Math.ceil(t/50),a=[];if("x"===e){for(var o=0;o<n;o++)a.push({style:{left:50*o+2+"px"},text:50*o});this.scaleList.x=a}else if("y"===e){for(var i=0;i<n;i++)a.push({style:{top:50*i+2+"px"},text:50*i});this.scaleList.y=a}},handleMouseDownOnScale:function(e,t){if(M()(this.guidesMap).length&&this.currentProject){var n=["guides",e,(new Date).getTime()].join("_");$.bus.$emit("XPE/scale/guides/drag/start",{key:n,type:e,status:{start:!0,move:!1,end:!1},position:{start:{x:t.offsetX,y:t.offsetY}},condition:{draw:function(e,t,n){return"x"===e?t.y-n.y>5:"y"===e?t.x-n.x>5:void 0}}})}else console.warn("Notice::请先创建项目！")},handleMouseDownOnGuides:function(e,t){$.bus.$emit("XPE/scale/guides/drag/start",{key:e.key,type:e.type,status:{start:!0,move:!1,end:!1},position:{start:{x:t.offsetX,y:t.offsetY}},condition:{draw:function(e,t,n){return"x"===e?t.y-n.y>5:"y"===e?t.x-n.x>5:void 0}}})},handleGuidesMove:function(e){var t=this;if(e.status.start&&e.status.move)if(M()(t.guidesMap).length&&t.currentProject){t.guidesMap[t.currentProject].showGuides=!0;var n={x:t.guidesMap[t.currentProject].x,y:t.guidesMap[t.currentProject].y},a=(new Date).getTime();e.key=e.key||["guides",e.type,a].join("_");var o=e.position.move.x+"px",i=e.position.move.y+"px";"x"===e.type?n[e.type][e.key]={key:e.key,type:e.type,text:i,style:{top:i},toolTip:{text:i,style:{display:"inline-block",left:o}}}:"y"===e.type&&(n[e.type][e.key]={key:e.key,type:e.type,text:o,style:{left:o},toolTip:{text:o,style:{display:"inline-block",top:i}}}),t.guidesMap[t.currentProject]=w()({},t.guidesMap[t.currentProject],n)}else console.warn("Notice::请先创建项目！")},handleRightClick:function(e){var t=this;if(M()(t.guidesMap).length&&t.currentProject){var n=document.querySelector("#xpe"),a=void 0,o=void 0;n?(a=e.clientX-n.offsetLeft,o=e.clientY-n.offsetTop):(a=e.offsetX,o=e.offsetY);var i={isShow:!0,x:a,y:o,target:"XPE_board",list:[{name:"showGuides",icon:{type:"",style:"",category:"iconfont"},text:t.guidesMap[t.currentProject].showGuides?"隐藏参考线":"显示参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toggle"}},{name:"showToolTip",icon:{type:"",style:"",category:"iconfont"},text:t.guidesMap[t.currentProject].showToolTip?"隐藏参考线坐标":"显示参考线坐标",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toolTip/toggle"}}]};$.bus.$emit("XPE/contextMenu/show",i)}else console.warn("Notice::请先创建项目！")},toggleToolTip:function(){var e=this;if(M()(e.guidesMap).length&&e.currentProject){var t={x:e.guidesMap[e.currentProject].x,y:e.guidesMap[e.currentProject].y};M()(t).map(function(n){M()(t[n]).map(function(a){t[n][a].toolTip.style=w()({},t[n][a].toolTip.style,{display:e.guidesMap[e.currentProject].showToolTip?"inline-block":"none"})})}),e.guidesMap[e.currentProject]=w()({},e.guidesMap[e.currentProject],t)}else console.warn("Notice::请先创建项目！")},clearGuidesByProject:function(e){this.guidesMap=w()({},this.guidesMap,V()({},e,w()({},this.guidesMap[e],{x:{},y:{}})))}},created:function(){var e=this;$.bus.$on("XPE/scale/guides/drag/move",function(t){e.handleGuidesMove(t)}),$.bus.$on("XPE/scale/guides/drag/stop",function(t){t.status.start||t.status.move||!t.status.end||e.toggleToolTip()}),$.bus.$on("XPE/board/clear",function(){e.guidesMap={}}),$.bus.$on("XPE/canvas/clear",function(t){e.clearGuidesByProject(t)}),$.bus.$on("XPE/scale/guides/clear",function(t){e.clearGuidesByProject(t)}),$.bus.$on("XPE/scale/guides/toggle",function(){M()(e.guidesMap).length&&e.currentProject?e.guidesMap[e.currentProject].showGuides=!e.guidesMap[e.currentProject].showGuides:console.warn("Notice::请先创建项目！")}),$.bus.$on("XPE/scale/guides/toolTip/toggle",function(){M()(e.guidesMap).length&&e.currentProject?(e.guidesMap[e.currentProject].showToolTip=!e.guidesMap[e.currentProject].showToolTip,e.toggleToolTip()):console.warn("Notice::请先创建项目！")}),$.bus.$on("XPE/project/add/ok",function(t){e.guidesMap=w()({},e.guidesMap,V()({},t.id,{x:{},y:{},showGuides:!0,showToolTip:!1})),e.currentProject=t.id}),$.bus.$on("XPE/project/trigger",function(t){e.currentProject=t}),$.bus.$on("XPE/project/remove",function(t){delete e.guidesMap[t]})}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xpe_scale"},[n("div",{staticClass:"scale_x",style:{width:e.width+"px"},on:{mousedown:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseDownOnScale("x",t)},contextmenu:function(t){t.stopPropagation(),t.preventDefault(),e.handleRightClick(t)}}},e._l(e.scaleList.x,function(t,a){return n("div",{key:"scale_x_"+a,staticClass:"scale_item",style:t.style,attrs:{type:t.type}},[e._v("\n      "+e._s(t.text)+"\n    ")])})),e._v(" "),n("div",{staticClass:"scale_y",style:{height:e.height+"px"},on:{mousedown:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseDownOnScale("y",t)},contextmenu:function(t){t.stopPropagation(),t.preventDefault(),e.handleRightClick(t)}}},e._l(e.scaleList.y,function(t,a){return n("div",{key:"scale_y_"+a,staticClass:"scale_item",style:t.style},[e._v("\n      "+e._s(t.text)+"\n    ")])})),e._v(" "),e._l(e.guidesMap,function(t,a){return Object.keys(e.guidesMap).length&&e.currentProject?[e._l(t.x,function(o){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentProject===a&&t.showGuides,expression:"currentProject === projectID && guidesMapByProject.showGuides"}],key:o.key,staticClass:"guides_x",style:[{width:e.width+"px"},o.style],attrs:{guides_key:o.key,project_id:a,title:o.text,type:o.type},on:{mousedown:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseDownOnGuides(o,t)}}},[n("div",{staticClass:"toolTip",style:o.toolTip.style},[e._v(e._s(o.toolTip.text))])])}),e._v(" "),e._l(t.y,function(o){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentProject===a&&t.showGuides,expression:"currentProject === projectID && guidesMapByProject.showGuides"}],key:o.key,staticClass:"guides_y",style:[{height:e.height+"px"},o.style],attrs:{guides_key:o.key,project_id:a,title:o.text,type:o.type},on:{mousedown:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseDownOnGuides(o,t)}}},[n("div",{staticClass:"toolTip",style:o.toolTip.style},[e._v(e._s(o.toolTip.text))])])})]:e._e()})],2)},staticRenderFns:[]};var Z=n("VU/8")(q,Y,!1,function(e){n("q5rV")},"data-v-0a286078",null).exports,J=n("mvHQ"),Q=n.n(J),ee={name:"XPEButton",props:{type:{type:String,validator:function(e){return["default","primary","ghost","dashed","text","info","success","warning","error"].includes(e)},default:"default"}},data:function(){return{prefix:"xpe-btn",defClass:"xpe_button"}},computed:{className:function(){var e=this,t="";return e.type&&"default"!==e.type&&(t=[e.prefix,e.type].join("-")),[e.defClass,t]}}},te={render:function(){var e=this.$createElement;return(this._self._c||e)("button",{class:this.className,attrs:{type:"button"}},[this._t("default")],2)},staticRenderFns:[]};var ne={name:"NestNoticeModal",data:function(){return{isShow:!1}},methods:{handleCancel:function(){this.isShow=!1}},created:function(){var e=this;$.bus.$on("XPE/canvas/nest/notice",function(){e.isShow=!0})}},ae={render:function(){var e=this.$createElement,t=this._self._c||e;return t("XUIModal",{staticClass:"xpe_nest-notice-modal",attrs:{value:this.isShow,title:"提示",transfer:!1},on:{"on-cancel":this.handleCancel}},[t("div",{staticClass:"content"},[this._v("该节点不支持嵌套！")]),this._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text",size:"large"},on:{click:this.handleCancel}},[this._v("关闭")])],1)])},staticRenderFns:[]};var oe={name:"XPECanvas",components:{XPEButton:n("VU/8")(ee,te,!1,function(e){n("RwgF")},"data-v-79783f46",null).exports,NestNoticeModal:n("VU/8")(ne,ae,!1,function(e){n("goFn")},"data-v-ebd497ee",null).exports},data:function(){return{isExpand:!0,canvasMap:{},currentProject:"",currentNode:"",scale:{default:1,current:1,max:10,min:.1,step:.01}}},methods:{handleRightClickOnCanvas:function(e){var t=document.querySelector("#xpe"),n=void 0,a=void 0;t?(n=e.clientX-t.offsetLeft,a=e.clientY-t.offsetTop):(n=e.offsetX,a=e.offsetY);var o={isShow:!0,x:n,y:a,target:"XPE_canvas",list:[{name:"expand",icon:{type:"icon-expand",style:"",category:"iconfont"},text:"展开",enable:this.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!1}},{name:"fold",icon:{type:"icon-fold",style:"",category:"iconfont"},text:"折叠",enable:!this.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!0}},{name:"showGuides",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toggle"}},{name:"showToolTip",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线坐标",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toolTip/toggle"}},{name:"clearGuides",icon:{type:"",style:"",category:"iconfont"},text:"清空当前项目参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/clear",params:this.currentProject}},{name:"clear",icon:{type:"",style:"",category:"iconfont"},text:"清空当前项目画布",enable:!0,action:{type:"bus",handler:"XPE/canvas/clear",params:this.currentProject}}]};$.bus.$emit("XPE/contextMenu/show",o)},handleRightClickOnNode:function(e,t){var n=this,a=document.querySelector("#xpe"),o=void 0,i=void 0;a?(o=t.clientX-a.offsetLeft,i=t.clientY-a.offsetTop):(o=t.offsetX,i=t.offsetY);var s={isShow:!0,x:o,y:i,target:"XPE_canvas_node",list:[{name:"expand",icon:{type:"icon-expand",style:"",category:"iconfont"},text:"展开",enable:n.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!1}},{name:"fold",icon:{type:"icon-fold",style:"",category:"iconfont"},text:"折叠",enable:!n.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!0}},{name:"showGuides",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toggle"}},{name:"showToolTip",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线坐标",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toolTip/toggle"}},{name:"clearGuides",icon:{type:"",style:"",category:"iconfont"},text:"清空当前项目参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/clear",params:n.currentProject}},{name:"clear",icon:{type:"",style:"",category:"iconfont"},text:"清空当前项目画布",enable:!0,action:{type:"bus",handler:"XPE/canvas/clear",params:n.currentProject}},{name:"edit",icon:{type:"edit",style:"",category:"iview"},text:"编辑",enable:!0,action:{type:"callback",handler:n.handleComponentTrigger,params:e}},{name:"remove",icon:{type:"android-remove",style:"",category:"iview"},text:"删除",enable:!0,action:{type:"callback",handler:n.handleComponentRemove,params:e}}]};$.bus.$emit("XPE/contextMenu/show",s)},handleComponentTrigger:function(e){var t=this;t.currentNode=e.id,$.bus.$emit("XPE/project/component/trigger",e),t.$nextTick(function(){t.handleMouseOverOnNode(e),t.handleMouseOutOnNode()})},handleComponentRemove:function(e){var t=this;t.currentNode="";var n=t.canvasMap;t.canvasMap[t.currentProject].components=n[t.currentProject].components.filter(function(t){return t.id!==e.id}),console.log("canvasMap",n),$.bus.$emit("XPE/project/component/remove",e),t.$nextTick(function(){t.handleMouseOutOnNode()})},handleDropOnCanvas:function(e,t){var n=this;console.log("handleDropOnCanvas");var a=n.canvasMap,o=JSON.parse(t.dataTransfer.getData("node"));o=w()({id:"",components:{},props:{},slots:{},innerHTML:""},o);var i={position:"absolute","pointer-events":"auto",left:t.offsetX+"px",top:t.offsetY+"px"};if(o.style=w()({},o.style,i),a[e.id].components.length){var s=a[e.id].components.findIndex(function(e){return e.id===o.id});s>-1?a[e.id].components[s]=o:a[e.id].components.push(o)}else a[e.id].components.push(o);n.canvasMap=w()({},a),n.currentNode=o.id,$.bus.$emit("XPE/project/component/trigger",o),n.$nextTick(function(){n.handleMouseOverOnNode(o),n.handleMouseOutOnNode()})},handleDropOnNode:function(e,t){var n=this;console.log("handleDropOnNode");var a=n.canvasMap,o=JSON.parse(t.dataTransfer.getData("node"));o=w()({id:"",components:{},props:{},slots:{},innerHTML:""},o);var i=!1,s=e.component.nest||{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}},l=o.component.nest||{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}},r=e.component.name,c=o.component.name;if(s.enable&&(s.children.allow.length||s.children.deny.length||l.parent.allow.length||l.parent.deny.length?s.children.allow.length?i=s.children.allow.includes(c)&&!s.children.deny.includes(c):s.children.deny.length?i=!s.children.deny.includes(c):l.parent.allow.length?i=l.parent.allow.includes(r)&&!l.parent.deny.includes(r):l.parent.deny.length&&(i=!l.parent.deny.includes(r)):i=!0),i){var u={position:"absolute","pointer-events":"auto",left:t.offsetX+"px",top:t.offsetY+"px"};o.style=w()({},o.style,u),a[n.currentProject].components=a[n.currentProject].components.filter(function(e){return e.id!==o.id}),a[n.currentProject].components.map(function(t){return t.id===e.id&&(t.hasOwnProperty("children")||(t.children=[]),t.children.push(o)),t}),n.canvasMap=w()({},a),n.$nextTick(function(){n.handleComponentTrigger(o)})}else $.bus.$emit("XPE/canvas/nest/notice")},handleDragStart:function(e,t){t.dataTransfer.setData("node",Q()(e))},handleOptionsSet:function(e){var t=this,n=t.canvasMap;n[t.currentProject].components.map(function(t){return t.id===e.id&&(t.props=e.props,t.slots=e.slots,t.innerHTML=e.innerHTML,t.style=e.style),t}),t.canvasMap=w()({},n),t.$nextTick(function(){t.handleMouseOverOnNode(e)})},clearCanvas:function(e){this.canvasMap[e].components=[],this.canvasMap[e].selectionStyleMap={},this.canvasMap[e].scale=w()({},this.scale)},handleMouseOverOnNode:function(e){var t=document.querySelector("[node-id="+e.id+"]");if(t){var n={display:"inline-block",width:t.offsetWidth+2+"px",height:t.offsetHeight+2+"px",margin:"-1px",left:e.style.left,top:e.style.top};this.canvasMap[this.currentProject].selectionStyleMap=w()({},this.canvasMap[this.currentProject].selectionStyleMap,V()({},e.id,n))}},handleMouseOutOnNode:function(){var e=this;if(M()(e.canvasMap[e.currentProject].selectionStyleMap).length){var t=e.canvasMap[e.currentProject].selectionStyleMap;M()(t).map(function(n){n!==e.currentNode&&delete t[n]}),e.canvasMap[e.currentProject].selectionStyleMap=w()({},t)}},handleZoom:function(e){var t=void 0,n=this.canvasMap[this.currentProject];if(n){switch(e.type){case"zoom-in":t=n.scale.current+n.scale.step;break;case"zoom-out":t=n.scale.current-n.scale.step;break;case"zoom-reset":t=n.scale.default}t>n.scale.max?t=n.scale.max:t<n.scale.min?t=n.scale.min:t||(t=n.scale.default),this.canvasMap[this.currentProject].scale.current=t,e.callback(Math.ceil(100*t)+"%")}}},created:function(){var e=this;$.bus.$on("XPE/expand/toggle/all",function(t){e.isExpand=t}),$.bus.$on("XPE/project/add/ok",function(t){e.canvasMap=w()({},e.canvasMap,V()({},t.id,w()({id:"",name:"",type:"pc",width:0,height:0,components:[],selectionStyleMap:{},scale:w()({},e.scale)},t))),e.currentProject=t.id}),$.bus.$on("XPE/project/trigger",function(t){e.currentProject=t}),$.bus.$on("XPE/project/remove",function(t){delete e.canvasMap[t]}),$.bus.$on("XPE/project/component/options/set",function(t){e.handleOptionsSet(t)}),$.bus.$on("XPE/canvas/clear",function(t){e.clearCanvas(t)}),$.bus.$on("XPE/canvas/zoom",function(t){e.handleZoom(t)})}},ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xpe_canvas"},[e._l(e.canvasMap,function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentProject===t.id,expression:"currentProject === item.id"}],key:t.id,class:["canvas-box",e.currentProject===t.id?"active":"","pc"===t.type?"pc":"mobile"===t.type?"mobile":""],style:{width:t.width,height:t.height,transform:"scale("+t.scale.current+","+t.scale.current+")"},attrs:{"project-id":t.id,name:t.name,title:t.name},on:{contextmenu:function(t){t.stopPropagation(),t.preventDefault(),e.handleRightClickOnCanvas(t)},drop:function(n){n.stopPropagation(),n.preventDefault(),e.handleDropOnCanvas(t,n)},dragover:function(e){e.stopPropagation(),e.preventDefault()}}},[e._l(t.selectionStyleMap,function(e,t){return n("div",{key:"selection-"+t,staticClass:"selection",style:e,attrs:{"selection-id":"selection-"+t}})}),e._v(" "),e._l(t.components,function(t,a){return[n(t.component.name,e._b({key:a,tag:"component",staticClass:"component-node",style:t.style,attrs:{"node-id":t.id,draggable:"true"},on:{dragover:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{contextmenu:function(n){n.stopPropagation(),n.preventDefault(),e.handleRightClickOnNode(t,n)},click:function(n){n.stopPropagation(),n.preventDefault(),e.handleComponentTrigger(t)},dragstart:function(n){e.handleDragStart(t,n)},mouseover:function(n){n.stopPropagation(),n.preventDefault(),e.handleMouseOverOnNode(t)},mouseout:function(n){n.stopPropagation(),n.preventDefault(),e.handleMouseOutOnNode(t)},drop:function(n){n.stopPropagation(),n.preventDefault(),e.handleDropOnNode(t,n)}}},"component",t.props,!1),[e._v("\n        "+e._s(t.innerHTML)+"\n        "),e._l(t.children,function(a,o){return t.children&&t.children.length?[n(a.component.name,e._b({key:o,tag:"component",staticClass:"component-node",style:a.style,attrs:{"node-id":a.id,draggable:"true"},on:{drop:function(t){t.stopPropagation(),t.preventDefault(),e.handleDropOnNode(a,t)},dragover:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{contextmenu:function(t){t.stopPropagation(),t.preventDefault(),e.handleRightClickOnNode(a,t)},click:function(t){t.stopPropagation(),t.preventDefault(),e.handleComponentTrigger(a)},dragstart:function(t){e.handleDragStart(a,t)},mouseover:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseOverOnNode(a)},mouseout:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseOutOnNode(a)}}},"component",a.props,!1))]:e._e()})],2)]})],2)}),e._v(" "),n("NestNoticeModal")],2)},staticRenderFns:[]};var se={name:"XPEBoard",components:{XPEToolBar:K,XPEScale:Z,XPECanvas:n("VU/8")(oe,ie,!1,function(e){n("LZAs")},null,null).exports},props:{config:{type:Object,default:function(){return B.UI.board}}},data:function(){return{isExpand:!0,boardWidth:0,boardHeight:0,zoom:{current:0,max:5,min:-5},guides:{type:"",status:{start:!1,move:!1,end:!1},position:{start:{x:0,y:0}}}}},methods:{toggleExpand:function(){this.isExpand=!this.isExpand,$.bus.$emit("XPE/expand/toggle/all",this.isExpand)},handleRightClick:function(e){var t=document.querySelector("#xpe"),n=void 0,a=void 0;t?(n=e.clientX-t.offsetLeft,a=e.clientY-t.offsetTop):(n=e.offsetX,a=e.offsetY);var o={isShow:!0,x:n,y:a,target:"XPE_board",list:[{name:"expand",icon:{type:"icon-expand",style:"",category:"iconfont"},text:"展开",enable:this.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!1}},{name:"fold",icon:{type:"icon-fold",style:"",category:"iconfont"},text:"折叠",enable:!this.isExpand,action:{type:"bus",handler:"XPE/expand/toggle/all",params:!0}},{name:"showGuides",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toggle"}},{name:"showToolTip",icon:{type:"",style:"",category:"iconfont"},text:"显示 / 隐藏参考线坐标",enable:!0,action:{type:"bus",handler:"XPE/scale/guides/toolTip/toggle"}},{name:"clear",icon:{type:"",style:"",category:"iconfont"},text:"清空编辑器画板",enable:!1,action:{type:"bus",handler:"XPE/board/clear"}}]};$.bus.$emit("XPE/contextMenu/show",o)},handleMouseMoveOnBoard:function(e){var t=this;if(t.guides.status.start&&(t.guides.status.move=!0,t.guides.condition&&t.guides.condition.draw&&"function"==typeof t.guides.condition.draw)){var n=document.querySelector("#xpe"),a=void 0;a=n?{x:e.clientX-n.offsetLeft,y:e.clientY-n.offsetTop}:{x:e.offsetX,y:e.offsetY},t.guides.condition.draw(t.guides.type,a,t.guides.position.start)&&(t.guides.position.move=a,$.bus.$emit("XPE/scale/guides/drag/move",t.guides))}},handleMouseUpOnBoard:function(e){this.guides.status.start=!1,this.guides.status.move=!1,this.guides.status.end=!0,$.bus.$emit("XPE/scale/guides/drag/stop",this.guides)}},created:function(){var e=this;$.bus.$on("XPE/expand/toggle/all",function(t){e.isExpand=t}),$.bus.$on("XPE/scale/guides/drag/start",function(t){e.guides=t})},mounted:function(){var e=this;e.boardWidth=e.$el.offsetWidth,e.boardHeight=e.$el.offsetHeight,console.log("boardWidth",e.$el.offsetWidth,e.$el.offsetHeight)}},le={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{xpe_board:!0,"draw-guides_x":e.guides.status.move&&"x"===e.guides.type,"draw-guides_y":e.guides.status.move&&"y"===e.guides.type},attrs:{id:"xpe_board"},on:{dblclick:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleExpand(t)},contextmenu:function(t){t.stopPropagation(),t.preventDefault(),e.handleRightClick(t)},mousemove:function(t){e.handleMouseMoveOnBoard(t)},mouseup:function(t){t.stopPropagation(),t.preventDefault(),e.handleMouseUpOnBoard(t)}}},[n("div",{staticClass:"block_body"},[n("XPECanvas")],1),e._v(" "),e.config.toolBar.enable?e._t("toolBar",[n("XPEToolBar",{attrs:{config:e.config.toolBar,expand:e.isExpand}})]):e._e(),e._v(" "),e.config.scale.enable?e._t("scale",[n("XPEScale",{attrs:{config:e.config.scale,width:e.boardWidth,height:e.boardHeight}})]):e._e()],2)},staticRenderFns:[]};var re=n("VU/8")(se,le,!1,function(e){n("pagZ")},"data-v-4e6e6456",null).exports,ce=n("5QVw"),ue=n.n(ce),de={name:"XPEOptions",components:{XPEHandler:b},props:{config:{type:Object,default:function(){return B.UI.options}}},data:function(){return{isExpand:!0,nodeInfo:{},propsMap:{},propsMapRules:{},slotsMap:{},optionsMap:{},innerHTML:"",style:"",activePanel:["propsMap","slotsMap","innerHTML","style"],loading:!1,utils:$,vm:null,propsType:{String:String,Number:Number,Boolean:Boolean,Function:Function,Object:Object,Array:Array,Symbol:ue.a}}},computed:{computedStyle:function(){return w()({},this.config.style,{"margin-right":this.isExpand?0:this.config.style["margin-right"]})}},watch:{propsMap:{handler:function(e,t){try{if(M()(t).length&&M()(e).length){var n=!1;if(this.$refs.propsMapForm.validate(function(e){console.log("valid",e),n=e,e||console.error("表单验证失败！")}),console.log("propsMapForm validResult",n),!n)return!1;$.bus.$emit("XPE/project/component/options/set",w()({},this.nodeInfo,{props:e}))}}catch(e){console.log("err",e.message)}},deep:!0},slotsMap:{handler:function(e,t){try{M()(t).length&&M()(e).length&&$.bus.$emit("XPE/project/component/options/set",w()({},this.nodeInfo,{slots:e}))}catch(e){console.log("err",e.message)}},deep:!0},innerHTML:{handler:function(e){try{$.bus.$emit("XPE/project/component/options/set",w()({},this.nodeInfo,{innerHTML:e}))}catch(e){console.log("err",e.message)}},deep:!0},style:{handler:function(e){try{var t=e.split("\n"),n={};t.map(function(e){if(e&&e.includes(":")){var t=e.split(":"),a=t[0].trim(),o=t[1].replace(";","").trim();n[a]=o}}),$.bus.$emit("XPE/project/component/options/set",w()({},this.nodeInfo,{style:n}))}catch(e){console.log("err",e.message)}},deep:!0}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand,t.$nextTick(function(){var e=t.isExpand?t.$el.offsetWidth:0;$.bus.$emit("XPE/expand/toggle/single",{position:"right",val:{right:e}})})},compileComponent:function(e){var t=this;t.loading=!0,t.nodeInfo=e,console.log("compileComponent",e);var n=new(_.default.component(e.component.name));t.vm=n,console.log("vm",n,e),console.log("vm $props",n.$props),console.log("vm $slots",n.$slots),t.propsMap=w()({},n.$props,e.props),t.optionsMap=w()({},n.$options,e.options),t.slotsMap=w()({},n.$slots,e.slots),t.innerHTML=e.innerHTML||n.innerHTML;var a=w()({},n.style,e.style),o=[];M()(a).map(function(e){var t=e+":"+a[e]+";";o.push(t)}),t.style=o.join("\n"),t.loading=!1},clearOptions:function(){var e=this;e.nodeInfo={},e.propsMap={},e.slotsMap={},e.innerHTML="",e.style=""}},created:function(){var e=this;$.bus.$on("XPE/expand/toggle/all",function(t){e.toggleHandler(t)}),$.bus.$on("XPE/project/component/trigger",function(t){e.compileComponent(t)}),$.bus.$on("XPE/canvas/clear",function(t){e.clearOptions(t)}),$.bus.$on("XPE/project/component/remove",function(t){e.clearOptions(t)})}},pe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{xpe_options:!0,block_expand:e.isExpand},style:e.computedStyle},[e._m(0),e._v(" "),n("div",{staticClass:"block_body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading"},[n("XUISpin",{attrs:{size:"large",fix:""}})],1),e._v(" "),n("XUICollapse",{staticClass:"options-collapse",model:{value:e.activePanel,callback:function(t){e.activePanel=t},expression:"activePanel"}},[n("XUIPanel",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.nodeInfo).length&&Object.keys(e.propsMap).length,expression:"Object.keys(nodeInfo).length && Object.keys(propsMap).length"}],attrs:{name:"propsMap"}},[e._v("\n        props\n        "),Object.keys(e.nodeInfo).length?n("XUIForm",{ref:"propsMapForm",staticClass:"options-body",attrs:{slot:"content",model:e.propsMap,rules:e.propsMapRules,"label-width":80},on:{click:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},slot:"content"},e._l(e.propsMap,function(t,a){return n("XUIFormItem",{key:a,staticClass:"options-item",attrs:{label:a,prop:a}},[e.utils.getTypeIndex(Boolean,e.vm.$options.props[a].type)>-1?n("XUISwitch",{model:{value:e.propsMap[a],callback:function(t){e.$set(e.propsMap,a,t)},expression:"propsMap[key]"}}):e.utils.getTypeIndex(Number,e.vm.$options.props[a].type)>-1?n("XUIInputNumber",{model:{value:e.propsMap[a],callback:function(t){e.$set(e.propsMap,a,t)},expression:"propsMap[key]"}}):(e.utils.getTypeIndex(String,e.vm.$options.props[a].type),n("XUIInput",{attrs:{type:"text"},model:{value:e.propsMap[a],callback:function(t){e.$set(e.propsMap,a,t)},expression:"propsMap[key]"}}))],1)})):e._e()],1),e._v(" "),n("XUIPanel",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.nodeInfo).length&&Object.keys(e.slotsMap).length,expression:"Object.keys(nodeInfo).length && Object.keys(slotsMap).length"}],attrs:{name:"slotsMap"}},[e._v("\n        slots\n        "),Object.keys(e.nodeInfo).length?n("XUIForm",{staticClass:"options-body",attrs:{slot:"content"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},slot:"content"},e._l(e.slotsMap,function(t,a){return n("XUIFormItem",{key:a,staticClass:"options-item"},[n("XUIInput",{attrs:{type:"text"},model:{value:e.slotsMap[a],callback:function(t){e.$set(e.slotsMap,a,t)},expression:"slotsMap[key]"}})],1)})):e._e()],1),e._v(" "),n("XUIPanel",{attrs:{name:"innerHTML"}},[e._v("\n        innerHTML\n        "),Object.keys(e.nodeInfo).length?n("XUIForm",{staticClass:"options-body",attrs:{slot:"content"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},slot:"content"},[n("XUIFormItem",{staticClass:"options-item"},[n("XUIInput",{attrs:{type:"text"},model:{value:e.innerHTML,callback:function(t){e.innerHTML=t},expression:"innerHTML"}})],1)],1):e._e()],1),e._v(" "),n("XUIPanel",{attrs:{name:"style"}},[e._v("\n        style\n        "),Object.keys(e.nodeInfo).length?n("div",{staticClass:"options-body",attrs:{slot:"content"},slot:"content"},[n("XUIForm",{staticClass:"options-body",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("XUIFormItem",{staticClass:"options-item"},[n("XUIInput",{attrs:{type:"textarea",rows:4,autosize:!0,placeholder:"请输入样式！"},model:{value:e.style,callback:function(t){e.style=t},expression:"style"}})],1)],1)],1):e._e()])],1)],1),e._v(" "),n("XPEHandler",{staticClass:"handler",attrs:{mode:"vertical",position:"left",expand:e.isExpand,callback:e.toggleHandler}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block_header"},[t("div",{staticClass:"title"},[this._v("\n      Options\n    ")])])}]};var he=n("VU/8")(de,pe,!1,function(e){n("3f11")},"data-v-2af3c764",null).exports,fe={name:"XPEFooter",components:{XPEHandler:b},props:{config:{type:Object,default:function(){return B.UI.footer}}},data:function(){return{isExpand:!0}},methods:{toggleHandler:function(e){var t=this;t.isExpand=void 0!==e?e:!t.isExpand,t.$nextTick(function(){var e=t.isExpand?t.$el.offsetHeight:0;$.bus.$emit("XPE/expand/toggle/single",{position:"bottom",val:{bottom:e}})})}},created:function(){var e=this;$.bus.$on("XPE/expand/toggle/all",function(t){e.toggleHandler(t)})}},me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:{xpe_footer:!0,block_expand:this.isExpand}},[t("div",{staticClass:"block_body"},[t("XUIButton",{attrs:{type:"primary"}},[this._v("SAVE")])],1),this._v(" "),t("XPEHandler",{staticClass:"handler",attrs:{mode:"horizontal",position:"top",expand:this.isExpand,callback:this.toggleHandler}})],1)},staticRenderFns:[]};var ve=n("VU/8")(fe,me,!1,function(e){n("PyXO")},"data-v-0b1675bf",null).exports,ge={name:"ContextMenuItem",props:{info:{type:Object,required:!0}},methods:{triggerMenuItem:function(){var e=this;console.log("triggerMenuItem",e.info.text,e.info.name);var t=void 0;if(e.info&&e.info.action&&e.info.action.type&&e.info.action.handler){switch(e.info.action.type){case"bus":t=function(){$.bus.$emit(e.info.action.handler,e.info.action.params)};break;case"callback":t=function(){e.info.action.handler&&"function"==typeof e.info.action.handler&&e.info.action.handler(e.info.action.params)}}(!e.info.action.beforeTrigger||"function"!=typeof e.info.action.beforeTrigger||e.info.action.beforeTrigger())&&t(),e.info.action.afterTrigger&&"function"==typeof e.info.action.afterTrigger&&e.info.action.afterTrigger()}$.bus.$emit("XPE/contextMenu/hide")}}},ye={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.info.enable?n("div",{staticClass:"context-menu-item",style:e.info.style,attrs:{name:e.info.name},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.triggerMenuItem(t)}}},[e.info.icon&&"iview"===e.info.icon.category?n("XUIIcon",{staticClass:"context-menu-icon",style:e.info.icon.style,attrs:{type:e.info.icon.type}}):e._e(),e._v(" "),e.info.icon&&"iconfont"===e.info.icon.category?n("i",{class:["context-menu-icon","iconfont",e.info.icon.type],style:e.info.icon.style,attrs:{title:e.info.text}}):e._e(),e._v(" "),n("div",{staticClass:"context-menu-label"},[n("div",{staticClass:"context-menu-label-text"},[e._v(e._s(e.info.text))]),e._v(" "),e.info.children&&e.info.children.length?n("i",{class:["context-menu-icon-child","iconfont","icon-arrow-right"]}):e._e()]),e._v(" "),e._t("child")],2):e._e()},staticRenderFns:[]};var be={name:"XPEContextMenu",components:{ContextMenuItem:n("VU/8")(ge,ye,!1,function(e){n("8ERU")},"data-v-9178a6e2",null).exports},data:function(){return{contextMenuInfo:{x:0,y:0,isShow:!1}}},computed:{contextMenuStyle:function(){var e=this,t=void 0!==e.contextMenuInfo.x&&parseInt(e.contextMenuInfo.x)>0?parseInt(e.contextMenuInfo.x):0,n=void 0!==e.contextMenuInfo.y&&parseInt(e.contextMenuInfo.y)>0?parseInt(e.contextMenuInfo.y):0,a={};if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){var o=document.documentElement.clientHeight;t+200>document.documentElement.clientWidth?a.right="10px":a.left=t+"px",n+100>o?a.bottom="42px":a.top=n+"px"}return a}},created:function(){var e=this;$.bus.$on("XPE/contextMenu/show",function(t){console.log("contextMenu show data",t),t&&(e.contextMenuInfo=t),e.contextMenuInfo.isShow=!0}),$.bus.$on("XPE/contextMenu/hide",function(t){console.log("contextMenu hide data",t),e.contextMenuInfo={x:0,y:0,isShow:!1}})},beforeDestroy:function(){$.bus.$off(["XPE/contextMenu/show","XPE/contextMenu/hide"])}},xe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.contextMenuInfo.isShow?n("div",{staticClass:"xpe-context-menu",style:e.contextMenuStyle,on:{mousedown:function(e){e.stopPropagation(),e.preventDefault()},click:function(e){e.stopPropagation(),e.preventDefault()}}},e._l(e.contextMenuInfo.list,function(t,a){return e.contextMenuInfo.list&&e.contextMenuInfo.list.length?n("ContextMenuItem",{key:a,attrs:{info:t}},[t.children&&t.children.length?n("div",{staticClass:"context-menu-child",style:t.childrenStyle,attrs:{slot:"child"},slot:"child"},e._l(t.children,function(e){return n("ContextMenuItem",{key:e.name,attrs:{info:e}})})):e._e()]):e._e()})):e._e()},staticRenderFns:[]};var we={name:"XPE",components:{XPEHeader:z,XPEList:A,XPEBoard:re,XPEOptions:he,XPEFooter:ve,XPEContextMenu:n("VU/8")(be,xe,!1,function(e){n("+NDZ")},null,null).exports},props:{config:{type:Object,default:function(){return B}}},data:function(){return{defConfig:B,mergeConfig:{},projectList:[]}},methods:{init:function(){this.renderUI()},renderUI:function(){this.mergeConfig=$.mergeObject(this.defConfig,this.config)},handleMouseDown:function(){$.bus.$emit("XPE/contextMenu/hide")}},created:function(){this.init()}},_e={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xpe",attrs:{id:"xpe"},on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(t){return t.stopPropagation(),e.handleMouseDown(t)}}},[e.mergeConfig.UI.header.enable?e._t("header",[n("XPEHeader",{attrs:{config:e.mergeConfig.UI.header}})]):e._e(),e._v(" "),e.mergeConfig.UI.list.enable?e._t("list",[n("XPEList",{attrs:{config:e.mergeConfig.UI.list}},[e._t("listItem")],2)]):e._e(),e._v(" "),e.mergeConfig.UI.board.enable?e._t("board",[n("XPEBoard",{attrs:{config:e.mergeConfig.UI.board}})]):e._e(),e._v(" "),e.mergeConfig.UI.options.enable?e._t("options",[n("XPEOptions",{attrs:{config:e.mergeConfig.UI.options}})]):e._e(),e._v(" "),e.mergeConfig.UI.footer.enable?e._t("footer",[n("XPEFooter",{attrs:{config:e.mergeConfig.UI.footer}})]):e._e(),e._v(" "),n("XPEContextMenu")],2)},staticRenderFns:[]};var Pe=n("VU/8")(we,_e,!1,function(e){n("TEW+")},"data-v-1f0a01a8",null).exports,Ce={name:"XPEIcon",props:{type:{type:String,required:!0}},data:function(){return{className:{main:"iconfont",prefix:"icon-"}}},computed:{classNameList:function(){var e=this.type?this.className.prefix+this.type:"";return[this.className.main,e]}}},ke={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:this.classNameList})},staticRenderFns:[]};var Ee=n("VU/8")(Ce,ke,!1,function(e){n("mDiV")},"data-v-7378917e",null).exports,Me=(n("1rAC"),{});Me.installed=!1,Me.install=function(e){Me.installed||(e.component("XUIButton",v.a),e.component("XUIIcon",m.a),e.component("XUIForm",f.a),e.component("XUIFormItem",h.a),e.component("XUIModal",p.a),e.component("XUIInput",d.a),e.component("XUIInputNumber",u.a),e.component("XUIRadioGroup",c.a),e.component("XUIRadio",r.a),e.component("XUISwitch",l.a),e.component("XUICollapse",s.a),e.component("XUIPanel",i.a),e.component("XUISpin",o.a),e.component("XUITooltip",a.a),e.component("XPageEditor",Pe),e.component("XPEIcon",Ee),Me.installed=!0)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(Me);t.a=Me},mDiV:function(e,t){},pagZ:function(e,t){},pwV8:function(e,t,n){"use strict";var a=n("mvHQ"),o=n.n(a);var i={components:[{type:"Basic",title:"基础",children:[{title:"Grid 栅格 Row",name:"Row",icon:"ios-grid-view-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Grid 栅格 Col",name:"Col",icon:"ios-grid-view-outline",nest:{enable:!0,parent:{allow:["Row"],deny:[]},children:{allow:[],deny:[]}}},{title:"Button 按钮",name:"Button",icon:"social-youtube-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Icon 图标",name:"Icon",icon:"ios-heart-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]},{type:"Form",title:"表单",children:[{title:"Input 输入框",name:"Input",icon:"ios-compose-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Radio 单选框",name:"Radio",icon:"ios-circle-filled",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"RadioGroup 单选框组",name:"RadioGroup",icon:"ios-circle-filled",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:["Radio"],deny:[]}}},{title:"Checkbox 多选框",name:"Checkbox",icon:"android-checkbox-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"CheckboxGroup 多选框组",name:"CheckboxGroup",icon:"android-checkbox-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:["Checkbox"],deny:[]}}},{title:"Switch 开关",name:"Switch",icon:"toggle",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Table 表格",name:"Table",icon:"ios-grid-view",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Select 选择器",name:"Select",icon:"ios-arrow-down",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:["Option","OptionGroup"],deny:[]}}},{title:"Option 选择器选项",name:"Option",icon:"ios-arrow-down",nest:{enable:!1,parent:{allow:["Select","OptionGroup"],deny:[]},children:{allow:[],deny:[]}}},{title:"OptionGroup 选择器选项组",name:"OptionGroup",icon:"ios-arrow-down",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:["Option"],deny:[]}}},{title:"AutoComplete 自动完成",name:"AutoComplete",icon:"ios-list-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Slider 滑块",name:"Slider",icon:"minus-round",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"DatePicker 日期选择器",name:"DatePicker",icon:"ios-calendar-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"TimePicker 时间选择器",name:"TimePicker",icon:"ios-clock-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Cascader 级联选择",name:"Cascader",icon:"ios-more-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Transfer 穿梭框",name:"Transfer",icon:"ios-pause-outline",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"InputNumber 数字输入框",name:"InputNumber",icon:"ios-calculator",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Rate 评分",name:"Rate",icon:"ios-star",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Upload 上传",name:"Upload",icon:"ios-cloud-upload-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"ColorPicker 颜色选择器",name:"ColorPicker",icon:"android-color-palette",nest:{enable:!1,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Form 表单",name:"Form",icon:"ios-list-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"FormItem 表单域",name:"FormItem",icon:"ios-list-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]},{type:"View",title:"视图",children:[{title:"Alert 警告提示",name:"Alert",icon:"alert",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Card 卡片",name:"Card",icon:"ios-browsers-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Message 全局提示",name:"Message",icon:"ios-information-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Notice 通知提醒",name:"Notice",icon:"ios-bell-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Modal 对话框",name:"Modal",icon:"ios-chatbubble-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Progress 进度条",name:"Progress",icon:"android-remove",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Avatar 头像",name:"Avatar",icon:"person",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Badge 徽标数",name:"Badge",icon:"email-unread",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Collapse 折叠面板",name:"Collapse",icon:"ios-albums-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Panel 面板",name:"Panel",icon:"ios-albums-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Timeline 时间轴",name:"Timeline",icon:"android-more-vertical",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"TimelineItem 时间轴项",name:"TimelineItem",icon:"android-more-vertical",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Tag 标签",name:"Tag",icon:"ios-pricetags-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Tooltip 文字提示",name:"Tooltip",icon:"chatbox-working",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Poptip 气泡提示",name:"Poptip",icon:"chatbubble-working",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Carousel 走马灯",name:"Carousel",icon:"ios-film-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Tree 树形控件",name:"Tree",icon:"network",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]},{type:"Navigation",title:"导航",children:[{title:"Menu 导航菜单",name:"Menu",icon:"navicon-round",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Submenu 子菜单",name:"Submenu",icon:"navicon-round",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Tabs 标签页",name:"Tabs",icon:"social-windows-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Tabs 标签页面板",name:"TabPane",icon:"social-windows-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Dropdown 下拉菜单",name:"Dropdown",icon:"arrow-down-b",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"DropdownMenu 下拉菜单容器",name:"DropdownMenu",icon:"arrow-down-b",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"DropdownItem 下拉菜单项",name:"DropdownItem",icon:"arrow-down-b",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Page 分页",name:"Page",icon:"ios-book-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Breadcrumb 面包屑",name:"Breadcrumb",icon:"ios-arrow-right",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"BreadcrumbItem 面包屑项",name:"BreadcrumbItem",icon:"ios-arrow-right",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Steps 步骤条",name:"Steps",icon:"ios-checkmark-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Step 步骤条项",name:"Step",icon:"ios-checkmark-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"LoadingBar 加载进度条",name:"LoadingBar",icon:"ios-minus-empty",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]},{type:"Chart",title:"图表",children:[{title:"Circle 进度环",name:"Circle",icon:"ios-circle-outline",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]},{type:"Other",title:"其它",children:[{title:"Affix 图钉",name:"Affix",icon:"pin",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"BackTop 返回顶部",name:"BackTop",icon:"ios-arrow-up",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Spin 加载中",name:"Spin",icon:"load-d",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}},{title:"Scroll 无限滚动",name:"Scroll",icon:"ios-more",nest:{enable:!0,parent:{allow:[],deny:[]},children:{allow:[],deny:[]}}}]}]},s={name:"CustomListItem",data:function(){return{navigate:i,lang:this.$lang}},methods:{handleDragStart:function(e,t){console.log("handleDragStart",e.name);var n={id:"node-"+(new Date).getTime(),component:e,props:{},slots:{},options:{},innerHTML:""};t.dataTransfer.setData("node",o()(n)),console.log("handleDragStart nodeInfo",n,this.lang)}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigate"},[n("div",{staticClass:"menu-block"},e._l(e.navigate.components,function(t){return n("div",{key:t.type,staticClass:"menu-group",attrs:{title:t.title}},[n("div",{staticClass:"menu-group-header"},[e._v(e._s(t.title))]),e._v(" "),n("div",{staticClass:"menu-group-body"},e._l(t.children,function(t){return n("div",{key:t.name,staticClass:"menu-item",attrs:{name:t.name,draggable:"true"},on:{dragstart:function(n){e.handleDragStart(t,n)}}},[n("Icon",{attrs:{type:t.icon}}),e._v("\n          "+e._s(t.title)+"\n        ")],1)}))])}))])},staticRenderFns:[]};var r=n("VU/8")(s,l,!1,function(e){n("4DTc")},"data-v-c7389526",null).exports,c=n("7+uW"),u=n("BTaQ"),d=n.n(u),p=(n("+skl"),{name:"CustomInput",props:{type:{type:String,default:"text"},placeholder:{type:String,default:""}}}),h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"x-ui-input"},[this._t("prepend"),this._v(" "),t("input",{attrs:{type:this.type,placeholder:this.placeholder}}),this._v(" "),this._t("append")],2)},staticRenderFns:[]};var f=n("VU/8")(p,h,!1,function(e){n("g598")},"data-v-2f1cce14",null).exports;c.default.use(d.a);let m={};Object.keys(d.a).map(e=>{let t=d.a[e];"object"==typeof t&&t instanceof Object&&(m[e]=t)}),console.log("iviewComponentList",m);var v=Object.assign({},{CustomInput:f},m),g={name:"App",components:{CustomListItem:r},data:function(){return{pageEditorConfig:{UI:{header:{enable:!0,title:{enable:!0,text:"XPE",fullText:"X-Page-Editor",subText:"x-page-editor"},data:[],initData:[]},list:{enable:!0,data:v,initData:[],style:{width:"300px","margin-left":"-300px"}},board:{enable:!0,data:[],initData:[],toolBar:{enable:!0,position:"top-right",style:{right:"350px"}},scale:{enable:!0}},options:{enable:!0,data:[],initData:[],style:{width:"300px","margin-right":"-300px"}},footer:{enable:!0,data:[],initData:[]}},output:{before:function(){},after:function(){}}}}}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("div",{staticClass:"page-editor-example"},[t("XPageEditor",{attrs:{config:this.pageEditorConfig}},[t("CustomListItem",{attrs:{slot:"listItem"},slot:"listItem"})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"https://github.com/OXOYO/X-Page-Editor-Vue",target:"_blank"}},[t("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0","z-index":"5000"},attrs:{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png",alt:"Fork me on GitHub"}})])}]};var b=n("VU/8")(g,y,!1,function(e){n("t9HI")},"data-v-5f7c4b1c",null);t.a=b.exports},q5rV:function(e,t){},t9HI:function(e,t){},y22e:function(e,t){}},["SrUm"]);